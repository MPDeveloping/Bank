<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Prosnolas - Settings</title>
  <style>
    body {
      background-color: #0f1923;
      color: white;
      font-family: 'Poppins', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .container {
      background-color: #1b2838;
      padding: 25px;
      border-radius: 15px;
      width: 320px;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
      text-align: center;
      position: relative;
    }

    h2 {
      margin-bottom: 20px;
      text-transform: lowercase;
    }

    input {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      text-align: center;
    }

    button {
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      margin-top: 10px;
      margin-right: 5px;
    }

    #addBtn { background-color: #27ae60; color: white; }
    #deleteBtn { background-color: #f39c12; color: white; }
    #resetBtn { background-color: #3498db; color: white; }
    #deleteBtn:hover { background-color: #d68910; }
    #resetBtn:hover { background-color: #2980b9; }
    #addBtn:hover { background-color: #1e8449; }

    .input-group { margin-bottom: 10px; }
    .total {
      background-color: #00bcd4;
      color: #000;
      padding: 10px;
      border-radius: 8px;
      font-weight: bold;
      margin-top: 10px;
    }

    /* ‚öôÔ∏è Settings Button */
    .settings-btn {
      position: absolute;
      top: 15px;
      right: 15px;
      background: transparent;
      border: none;
      color: white;
      font-size: 20px;
      cursor: pointer;
    }

    /* Settings Menu */
    .settings-menu {
      position: absolute;
      top: 50px;
      right: -200px;
      width: 180px;
      background-color: #17222f;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(0,0,0,0.5);
      overflow: hidden;
      transition: right 0.3s ease;
    }

    .settings-menu.open {
      right: 15px;
    }

    .settings-item {
      padding: 12px;
      border-bottom: 1px solid #263548;
      cursor: pointer;
      text-align: left;
    }

    .settings-item:hover {
      background-color: #263548;
    }
  </style>
</head>
<body>

  <!-- MAIN APP -->
  <div class="container" id="appScreen">
    <button class="settings-btn" id="settingsBtn">‚öôÔ∏è</button>
    <div class="settings-menu" id="settingsMenu">
      <div class="settings-item">About</div>
      <div class="settings-item">Feedback</div>
      <div class="settings-item">Help</div>
      <div class="settings-item">Version 1.0</div>
    </div>

    <h2 id="welcome">my prosnolas</h2>
    <div id="inputArea"></div>
    <div class="total" id="total">Total: 0</div>

    <div>
      <button id="addBtn">‚ûï Add Box</button>
      <button id="deleteBtn">üóëÔ∏è Delete Box</button>
      <button id="resetBtn">Reset All</button>
    </div>
  </div>

  <script>
    const inputArea = document.getElementById('inputArea');
    const totalDisplay = document.getElementById('total');
    const addBtn = document.getElementById('addBtn');
    const deleteBtn = document.getElementById('deleteBtn');
    const resetBtn = document.getElementById('resetBtn');
    const settingsBtn = document.getElementById('settingsBtn');
    const settingsMenu = document.getElementById('settingsMenu');

    // Toggle settings menu
    settingsBtn.addEventListener('click', () => {
      settingsMenu.classList.toggle('open');
    });

    // Close settings when clicking outside
    document.addEventListener('click', (e) => {
      if (!settingsMenu.contains(e.target) && e.target !== settingsBtn) {
        settingsMenu.classList.remove('open');
      }
    });

    // Load saved data
    window.onload = () => {
      const savedData = JSON.parse(localStorage.getItem("myProsnolasData")) || {
        boxes: [
          { name: "Bob me", value: 450 },
          { name: "Bob be", value: 89 },
          { name: "Banas me", value: 0 },
          { name: "Banas all", value: 1 },
          { name: "UPI lite", value: 3 },
          { name: "Cash", value: 500 }
        ]
      };
      savedData.boxes.forEach(b => addBox(b.name, b.value));
      calculateTotal();
    };

    // Save data
    function saveData() {
      const boxes = [];
      const groups = inputArea.querySelectorAll('.input-group');
      groups.forEach(group => {
        const name = group.querySelector('label').textContent.replace(':', '');
        const value = Number(group.querySelector('input').value);
        boxes.push({ name, value });
      });
      localStorage.setItem("myProsnolasData", JSON.stringify({ boxes }));
    }

    // Add box
    function addBox(name, value = 0) {
      const group = document.createElement('div');
      group.className = 'input-group';
      const label = document.createElement('label');
      label.textContent = name + ':';
      const input = document.createElement('input');
      input.type = 'number';
      input.value = value;
      input.addEventListener('input', () => {
        calculateTotal();
        saveData();
      });
      group.appendChild(label);
      group.appendChild(input);
      inputArea.appendChild(group);
    }

    // Calculate total
    function calculateTotal() {
      const inputs = inputArea.querySelectorAll('input');
      let total = 0;
      inputs.forEach(input => total += Number(input.value));
      totalDisplay.textContent = `Total: ${total}`;
    }

    // Add new box
    addBtn.addEventListener('click', () => {
      const name = prompt("Enter name for new box:");
      if (!name) return;
      addBox(name, 0);
      saveData();
      calculateTotal();
    });

    // Delete box
    deleteBtn.addEventListener('click', () => {
      const name = prompt("Enter box name to delete:");
      if (!name) return;
      const groups = inputArea.querySelectorAll('.input-group');
      let deleted = false;
      groups.forEach(group => {
        const label = group.querySelector('label');
        if (label.textContent.replace(':', '').trim().toLowerCase() === name.toLowerCase()) {
          group.remove();
          deleted = true;
        }
      });
      if (!deleted) alert("‚ö†Ô∏è Box not found!");
      saveData();
      calculateTotal();
    });

    // Reset all
    resetBtn.addEventListener('click', () => {
      const inputs = inputArea.querySelectorAll('input');
      inputs.forEach(input => input.value = 0);
      calculateTotal();
      saveData();
    });
  </script>
</body>
</html>
